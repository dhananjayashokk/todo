(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{50:function(e,t,n){},52:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var c=n(2),o=n(0),r=n.n(o),a=n(11),s=n.n(a),i=(n(50),n(51),n(52),n(43)),u=n(16),l=n(87),d=n(90),j=n(86),b=n(89),m="GET_BUCKETS",f="GET_TODOS",h=n(15),O=n.n(h),g="http://localhost:8000/",p=function(e){return O.a.post(g+"create_bucket",{buckets:e})},v=function(){return console.log("reached service "),O()({method:"get",url:g+"get_buckets"}).then((function(e){return e.data})).catch((function(e){return console.log("bucket error",e),e}))},x=function(e){return O.a.post(g+"add_todos",{todo_data:e})},y=function(e){return console.log("reached get todo service ",e),O()({method:"get",url:g+"get_todos",params:{bucket_name:e}}).then((function(e){return e.data})).catch((function(e){return console.log("bucket error",e),e}))},k=function(e){return O()({method:"put",url:g+"update_todos",params:{todo_id:e}}).then((function(e){return e.data})).catch((function(e){return console.log("bucket error",e),e}))},S=function(e){return O()({method:"put",url:g+"delete_todos",params:{todo_id:e}}).then((function(e){return e.data})).catch((function(e){return console.log("bucket error",e),e}))},_=function(e){return function(t){return console.log("get_do action",e),y(e).then((function(e){return console.log("response",e),t({type:f,payload:e}),Promise.resolve()}),(function(e){return Promise.reject()}))}},N=n(13),P=function(e){var t=e.todoName,n=e.selectedBucket;console.log("todos to show",t);var o=Object(N.b)(),r=function(e){var t,c;o((t=e.target.id,c=n,function(e){return k(t).then((function(t){return console.log("response",t),e(_(c)),Promise.resolve()}),(function(e){return Promise.reject()}))}))},a=function(e){var t,c;o((t=e.target.id,c=n,function(e){return S(t).then((function(t){return console.log("response",t),e(_(c)),Promise.resolve()}),(function(e){return Promise.reject()}))}))};return Object(c.jsx)("div",{style:{marginTop:"3%"},children:t.map((function(e){return Object(c.jsxs)("div",{style:{display:"flex",marginTop:"1%"},children:[Object(c.jsx)(b.a,{style:{minWidth:"40%"},variant:1==e.status?"success":"danger",children:e.name},"1"),Object(c.jsx)(j.a,{size:"sm",className:"mb-2",id:e.id,variant:1==e.status?"danger":"success",onClick:r,style:{marginLeft:"2%"},children:1==e.status?"Incomplete":"Complete"}),Object(c.jsx)(j.a,{size:"sm",className:"mb-2",variant:"danger",id:e.id,onClick:a,style:{marginLeft:"2%"},children:"Delete"})]},e.id)}))})},T=function(e){var t=Object(N.c)((function(e){return e.todo.buckets})),n=Object(o.useState)(0!=t.length?JSON.parse(t[0].name):[]),r=Object(u.a)(n,2),a=r[0],s=r[1];Object(o.useEffect)((function(){s(0!=t.length?JSON.parse(t[0].name):[]),G(0!=t.length?JSON.parse(t[0].name)[0].name:"")}),[t]);var b=Object(N.c)((function(e){return e.todo.todos})),f=Object(o.useState)(0!=b.length?b[0].name:[]),h=Object(u.a)(f,2),O=h[0],g=h[1];Object(o.useEffect)((function(){g(0!=b.length?b:[]),console.log("todos let wala",b)}),[b]),Object(o.useEffect)((function(){F()}),[]);var y=Object(N.b)(),k=Object(o.useState)([]),S=Object(u.a)(k,2),T=S[0],w=S[1];Object(o.useEffect)((function(){var e;0!=T.length&&y((e=JSON.stringify(T),function(t){return p(e).then((function(e){return t({type:m,payload:[e.data]}),Promise.resolve()}),(function(e){return Promise.reject()}))}))}),[T]);var C=Object(o.useState)(""),E=Object(u.a)(C,2),z=E[0],L=E[1],B=Object(o.useState)(""),J=Object(u.a)(B,2),D=J[0],G=J[1],I=Object(o.useState)(""),M=Object(u.a)(I,2),W=M[0],A=M[1];Object(o.useEffect)((function(){K()}),[D]);Object(o.useEffect)((function(){console.log("todoname",O)}),[O]);var F=function(){y((function(e){return v().then((function(t){return console.log("response",t),e({type:m,payload:t}),Promise.resolve()}),(function(e){return Promise.reject()}))}))},K=function(){y(_(D))};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{style:{width:"50%",marginTop:"2%"},children:Object(c.jsxs)(l.a,{size:"sm",className:"mb-2",children:[Object(c.jsx)(d.a,{value:z,onChange:function(e){L(e.target.value)},"aria-label":"Small","aria-describedby":"inputGroup-sizing-sm"}),Object(c.jsx)(j.a,{size:"sm",className:"mb-2",variant:"warning",onClick:function(e){w([].concat(Object(i.a)(a),[{id:parseInt(1e3*Math.random()),name:z}])),L("")},style:{marginLeft:"2%"},children:"Create Bucket"})]})}),Object(c.jsx)("div",{style:{width:"50%",marginTop:"2%"},children:Object(c.jsxs)(l.a,{size:"sm",className:"mb-2",children:[Object(c.jsxs)(d.a,{as:"select",onChange:function(e){G(e.target.value)},custom:!0,children:[Object(c.jsx)("option",{disabled:!0,children:"---Select Bucket---"}),a.map((function(e){return Object(c.jsx)("option",{id:e.id,children:e.name},e.id)}))]}),Object(c.jsx)(d.a,{value:W,onChange:function(e){A(e.target.value)},style:{marginLeft:"2%"},"aria-label":"Small","aria-describedby":"inputGroup-sizing-sm"}),Object(c.jsx)(j.a,{size:"sm",className:"mb-2",variant:"warning",onClick:function(e){var t;y((t={id:parseInt(1e3*Math.random()),bucket_name:D,todo_name:W},function(e){return x(t).then((function(n){return e(_(t.bucket_name)),Promise.resolve()}),(function(e){return Promise.reject()}))})),A("")},style:{marginLeft:"2%"},children:"Add To Do"})]})}),0==O.length?"":Object(c.jsx)(P,{todoName:O,selectedBucket:D})]})},w=function(e){return Object(c.jsxs)("div",{className:"col-md-12",children:[Object(c.jsx)("h1",{children:"To-Do List"}),Object(c.jsx)(T,{})]})},C=n(88),E=n(12),z=n(41),L=n(42),B=n(19),J={buckets:[],todos:[]},D=Object(E.combineReducers)({todo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case m:return Object(B.a)(Object(B.a)({},e),{},{buckets:c});case f:return Object(B.a)(Object(B.a)({},e),{},{todos:c});default:return e}}}),G=[L.a],I=Object(E.createStore)(D,Object(z.composeWithDevTools)(E.applyMiddleware.apply(void 0,G))),M=n(10),W=Object(M.a)(),A=function(){return Object(c.jsx)(N.a,{store:I,children:Object(c.jsx)("div",{className:"container mt-3",children:Object(c.jsx)(C.c,{history:W,children:Object(c.jsxs)(C.d,{children:[Object(c.jsx)(C.b,{exact:!0,path:"/",component:w}),Object(c.jsx)(C.b,{exact:!0,path:"/List",component:P}),Object(c.jsx)(C.a,{to:"/"})]})})})})};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(A,{})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.d82686c4.chunk.js.map